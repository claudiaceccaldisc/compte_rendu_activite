<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nouvelle Fiche â€“ Portfolio Professionnel</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>ğŸ§¾ CrÃ©er une Fiche Professionnelle</h1>
  </header>

  <main>
    <form id="ficheForm">
      <label>Nom / PrÃ©nom :</label>
      <input type="text" id="nom" placeholder="Ton nom complet" required>

      <label>Titre du projet :</label>
      <input type="text" id="titre" placeholder="Ex : Application de covoiturage" required>

      <label>PÃ©riode :</label>
      <input type="text" id="periode" placeholder="Ex : Janv. 2025 â€“ Mars 2025" required>

      <label>Type dâ€™action :</label>
      <select id="type">
        <option value="DÃ©veloppement">DÃ©veloppement</option>
        <option value="Support">Support</option>
        <option value="AmÃ©lioration">AmÃ©lioration</option>
        <option value="Documentation">Documentation</option>
        <option value="Collaboration">Collaboration</option>
      </select>

      <label>Contexte / Objectif :</label>
      <textarea id="contexte"></textarea>

      <label>Actions rÃ©alisÃ©es :</label>
      <textarea id="actions"></textarea>

      <label>CompÃ©tences mobilisÃ©es :</label>
      <textarea id="competences"></textarea>

      <label>Impact / Valeur ajoutÃ©e :</label>
      <textarea id="impact"></textarea>

      <label>Perspectives / Analyse personnelle :</label>
      <textarea id="perspectives"></textarea>

      <button type="button" onclick="genererMarkdown()">ğŸ“„ GÃ©nÃ©rer et TÃ©lÃ©charger la fiche</button>
    </form>
  </main>

  <footer>
    <p>Service DEFI â€“ CAF | CrÃ©ation automatique de fiches Â© 2025</p>
  </footer>

  <script>
    function genererMarkdown() {
      const d = id => document.getElementById(id).value.trim();
      const md = `
# ğŸ§¾ FICHE Dâ€™ACTION PROFESSIONNELLE  
**${d("nom")} â€“ MastÃ¨re DÃ©veloppeur Full Stack (Service DEFI â€“ CAF)**  

---

## ğŸ·ï¸ Informations gÃ©nÃ©rales
- **Titre du projet :** ${d("titre")}  
- **PÃ©riode :** ${d("periode")}  
- **Type dâ€™action :** ${d("type")}  

---

## ğŸ¯ Contexte et Objectif  
${d("contexte")}

---

## ğŸ§© Actions principales  
${d("actions")}

---

## ğŸ§  CompÃ©tences mobilisÃ©es  
${d("competences")}

---

## ğŸ’¡ Impact et Valeur ajoutÃ©e  
${d("impact")}

---

## ğŸŒ± Perspectives et Analyse personnelle  
${d("perspectives")}

---

ğŸ—“ï¸ _Fiche gÃ©nÃ©rÃ©e automatiquement le ${new Date().toLocaleDateString()}_
`;

      const blob = new Blob([md], { type: "text/markdown" });
      const a = document.createElement("a");
      a.href = URL.createObjectURL(blob);
      a.download = `${d("titre").replace(/\s+/g, "_")}.md`;
      a.click();

      alert("âœ… Fiche tÃ©lÃ©chargÃ©e ! Glisse-la dans ton dossier /fiches-actions/ puis ajoute-la Ã  fiches.json.");
    }
  </script>
</body>
</html>
